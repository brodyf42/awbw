<div class="relative bg-white rounded-xl shadow-sm hover:shadow-md transition p-4">

  <!-- BOOKMARK COLUMN (not inside link) -->
  <div class="absolute top-4 right-4 z-20 pointer-events-auto">
    <%= render "bookmarks/editable_bookmark_icon", resource: story.object %>
  </div>

  <!-- CLICKABLE CARD -->
  <%= link_to story_path(story),
              class: "flex flex-col md:flex-row md:items-center gap-4 cursor-pointer block" do %>

    <!-- LEFT: TEXT (leave right padding equal to bookmark width) -->
    <div class="flex-1 pr-12"> <!-- <-- This prevents text going under bookmark -->
      <h3 class="text-lg font-semibold text-gray-900 leading-tight">
        <%= story.title %>
      </h3>

      <p class="text-gray-600 text-sm mt-1 line-clamp-3">
        <%= strip_tags(story.body).truncate(250) %>
      </p>
    </div>

    <!-- RIGHT: IMAGE -->
    <div class="w-24 h-14 rounded bg-gray-200 flex items-center justify-center shrink-0 mr-9">
      <% if story.main_image&.file&.blob&.persisted? %>
        <%= image_tag story.main_image.file,
                      class: "w-full rounded shadow-sm border border-gray-200",
                      alt: story.title %>
      <% else %>
        <svg class="w-6 h-6 text-gray-400"
             fill="currentColor" viewBox="0 0 20 18"></svg>
      <% end %>
    </div>

  <% end %>
</div>
