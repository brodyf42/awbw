<%= simple_form_for @workshop_variation, html: { multipart: true } do |f| %>
  <%= render 'shared/errors', resource: workshop_variation if workshop_variation.errors.any? %>

  <div class="row">
    <div class="col-md-6">
      <% if @workshop %>
        <%= f.hidden_field :workshop_id, value: @workshop.id %>

        <div class="my-3">
          Variant of: <span class="text-lg font-bold">
          <%= link_to(@workshop.name,
                      workshop_path(@workshop)) %></span>
        </div>
      <% else %>
        <%= f.input :workshop_id,
                    as: :select,
                    collection: @workshops,
                    prompt: "Select a Workshop" %>
      <% end %>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <%= f.input :name, label: "Variation name" %>
      <%= f.input :code, as: :text,
                  label: "Share a little bit about your workshop variation, how you modified the workshop to fit your population/setting/facilitation style, and/or anything about how the workshop was received by participants, things you would do differently next time, etc.",
                  input_html: { rows: 10 } %>
    </div>
    <% if current_user.super_user? %>
      <div class="col-md-6 flex items-start gap-6 bg-blue-100 admin-only p-3">
        <%= f.input :inactive, as: :boolean, label: "Not published?",
                    input_html: { checked: f.object.id ? f.object.inactive : false } %>
  
        <%= f.input :ordering, as: :integer,
                    input_html: { class: "w-24" } %>
      </div>
    <% end %>
  </div>

  <div class="mt-3">
    <%= link_to "Delete", @workshop_variation, class: "btn btn-danger-outline", method: :delete, data: { confirm: "Are you sure?" } %>
    <%= link_to 'Cancel', workshop_variations_path, class: "btn btn-secondary-outline" %>
    <%= f.submit 'Submit',
                 class: "px-4 py-2 border border-blue-600 hover:text-gray-600 hover:bg-white
                 rounded-lg bg-blue-600 text-white text-sm font-medium" %>
  </div>
<% end %>
